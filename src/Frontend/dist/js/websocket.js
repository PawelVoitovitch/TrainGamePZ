"use strict";var stompClient,destinationCardsQuantity=document.querySelector(".destinationCardsQuantityAll"),trainCardsQuantity=document.querySelector(".trainCardsQuantityAll"),token=sessionStorage.getItem("token");function connectToSocket(o){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({Authorization:"Bearer ".concat(token)},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/lobby/"+o,function(t){console.log("received message: "+t),location.reload()},function(t){console.log("Error: "+t)})})}function connectToGameSocket(o){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({Authorization:"Bearer ".concat(token)},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/game-progress/"+o,function(t){t=JSON.parse(t.body);updateBoard(t.visibleTrains),destinationCardsQuantity.textContent="x".concat(t.ticketDeck.length),trainCardsQuantity.textContent="x".concat(t.trainDeck.length),availableColors=t.trainDeck,tickets=t.ticketDeck,currentBoard=t.board,turnArr=t.playersOrder,turn(),drawDestinationCards(tickets),loadGame(),setTrainsOnBoard(t.board)},function(t){console.log("Error: "+t)})})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnNvY2tldC5qcyJdLCJuYW1lcyI6WyJzdG9tcENsaWVudCIsImRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRyYWluQ2FyZHNRdWFudGl0eSIsInRva2VuIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiY29ubmVjdFRvU29ja2V0IiwiZ2FtZUlkIiwiY29uc29sZSIsImxvZyIsInNvY2tldCIsIlNvY2tKUyIsInVybCIsInVuZGVmaW5lZCIsImNyb3NzRG9tYWluIiwiU3RvbXAiLCJvdmVyIiwiY29ubmVjdCIsIkF1dGhvcml6YXRpb24iLCJjb25jYXQiLCJmcmFtZSIsInJlc3BvbnNlIiwic3Vic2NyaWJlIiwibG9jYXRpb24iLCJlcnJvciIsImNvbm5lY3RUb0dhbWVTb2NrZXQiLCJkYXRhIiwidXBkYXRlQm9hcmQiLCJKU09OIiwicGFyc2UiLCJ2aXNpYmxlVHJhaW5zIiwiYm9keSIsInRleHRDb250ZW50IiwidHJhaW5EZWNrIiwibGVuZ3RoIiwiYXZhaWxhYmxlQ29sb3JzIiwidGlja2V0RGVjayIsInRpY2tldHMiLCJjdXJyZW50Qm9hcmQiLCJwbGF5ZXJzT3JkZXIiLCJ0dXJuQXJyIiwidHVybiIsImRyYXdEZXN0aW5hdGlvbkNhcmRzIiwibG9hZEdhbWUiLCJzZXRUcmFpbnNPbkJvYXJkIiwiYm9hcmQiXSwibWFwcGluZ3MiOiJhQUFBLElBQUlBLFlBQ0VDLHlCQUEyQkMsU0FBU0MsY0FEMUMsOEJBQWUsRUFJVEMsbUJBQXFCRixTQUFTQyxjQUFjLHdCQUF5QixFQUNyRUUsTUFBUUMsZUFBZUMsUUFBUSxPQUFRLEVBQzdDLFNBQVNDLGdCQUFnQkMsR0FDeEJDLFFBQU9DLElBQUksd0JBQUMsRUFDWixJQUFBQyxFQUFVLElBQUdDLE9BQVVDLElBQUksUUFBVUMsS0FBQUEsRUFBVyxDQUFFQyxZQUFBLENBQUEsQ0FBQSxDQUFBLEdBQ2xEaEIsWUFEK0RpQixNQUFFQyxLQUFBTixDQUFBLEdBQU9PLFFBQUEsQ0FBQUMsY0FBQSxVQUFBQyxPQUFBaEIsS0FBQSxDQUFBLEVBQUEsU0FBQWlCLEdBQ3hFdEIsUUFBQUEsSUFBVywyQkFBcUJzQixDQUFBLEVBQ2hDdEIsWUFBWW1CLFVBR1YsZ0JBSGlDVixFQUFxQixTQUFFYyxHQUN6RGIsUUFBUUMsSUFBSSxxQkFBQVksQ0FBNkJELEVBQ3pDdEIsU0FBQUEsT0FBWXdCLENBS1gsRUFDQSxTQUZDQyxHQUNEZixRQUNBQyxJQUFBLFVBQWlCZSxDQUFBLENBRWpCLENBQUMsQ0FFSCxDQUFBLENBQ0QsQ0FFQSxTQUNRQyxvQkFBS2xCLEdBQVpDLFFBQ0lFLElBQU0sd0JBQW9CLEVBQTlCLElBQ0NJLEVBQUFBLElBQWFILE9BQUFDLElBQUEsUUFBQUMsS0FBQUEsRUFBQSxDQUNkQyxZQUFFLENBQUEsQ0FBRixDQUNBaEIsR0FBQUEsWUFDWW1CLE1BQU9ELEtBQUNOLENBQUEsR0FBRVEsUUFBYSxDQUFBQSxjQUFZZixVQUFBQSxPQUFLQSxLQUFBLENBQUEsRUFBQSxTQUFBaUIsR0FBR1osUUFBR0MsSUFBQSwyQkFBaUJXLENBQUEsRUFFMUV0QixZQURRVyxVQUVQLHdCQUFBRixFQUNBLFNBQ09tQixHQUNOQyxFQUFXQyxLQUFLQyxNQUFDQyxFQUFjQyxJQUFBLEVBQS9CSixZQUNBNUIsRUFBQUEsYUFBeUJpQyxFQUF6QmpDLHlCQUNtQmlDLFlBQVcsSUFBQWIsT0FBQUEsRUFBT08sV0FBS08sTUFBVUMsRUFBcERoQyxtQkFDZThCLFlBQVFDLElBQUFBLE9BQVNQLEVBQUFPLFVBQUFDLE1BQUEsRUFBaENDLGdCQUNlQyxFQUFBQSxVQUFmQyxRQUNBQyxFQUFZRixXQUFaRSxhQUNVWixFQUFLYSxNQUFmQyxRQUNNZCxFQUFBYSxhQUFORSxLQUNBQyxFQUFBQSxxQkFDVUwsT0FBQSxFQUFWTSxTQUNBQyxFQUNEQSxpQkFDVXBCLEVBQU9xQixLQUFBLENBRGpCLEVBQ0EsU0FHQXJCLEdBQ0FoQixRQUFBQyxJQUFBLFVBQUFlLENBQUEsQ0FDSCxDQUFBLENBREMsQ0FBQyxDQUNGIiwiZmlsZSI6IndlYnNvY2tldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBzdG9tcENsaWVudDtcclxuY29uc3QgZGVzdGluYXRpb25DYXJkc1F1YW50aXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5kZXN0aW5hdGlvbkNhcmRzUXVhbnRpdHlBbGxcIlxyXG4pO1xyXG5jb25zdCB0cmFpbkNhcmRzUXVhbnRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyYWluQ2FyZHNRdWFudGl0eUFsbFwiKTtcclxuY29uc3QgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIik7XHJcbmZ1bmN0aW9uIGNvbm5lY3RUb1NvY2tldChnYW1lSWQpIHtcclxuXHRjb25zb2xlLmxvZyhcImNvbm5lY3RpbmcgdG8gdGhlIGdhbWVcIik7XHJcblx0bGV0IHNvY2tldCA9IG5ldyBTb2NrSlModXJsICsgXCIvam9pblwiLCB1bmRlZmluZWQsIHsgY3Jvc3NEb21haW46IHRydWUgfSk7XHJcblx0c3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7XHJcblx0c3RvbXBDbGllbnQuY29ubmVjdCh7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0sIGZ1bmN0aW9uIChmcmFtZSkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0ZWQgdG8gdGhlIGZyYW1lOiBcIiArIGZyYW1lKTtcclxuXHRcdHN0b21wQ2xpZW50LnN1YnNjcmliZShcclxuXHRcdFx0XCIvdG9waWMvbG9iYnkvXCIgKyBnYW1lSWQsXHJcblx0XHRcdGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicmVjZWl2ZWQgbWVzc2FnZTogXCIgKyByZXNwb25zZSk7XHJcblx0XHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb25uZWN0VG9HYW1lU29ja2V0KGdhbWVJZCkge1xyXG5cdGNvbnNvbGUubG9nKFwiY29ubmVjdGluZyB0byB0aGUgZ2FtZVwiKTtcclxuXHRsZXQgc29ja2V0ID0gbmV3IFNvY2tKUyh1cmwgKyBcIi9qb2luXCIsIHVuZGVmaW5lZCwge1xyXG5cdFx0Y3Jvc3NEb21haW46IHRydWUsXHJcblx0fSk7XHJcblx0c3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7XHJcblx0c3RvbXBDbGllbnQuY29ubmVjdCh7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0sIGZ1bmN0aW9uIChmcmFtZSkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0ZWQgdG8gdGhlIGZyYW1lOiBcIiArIGZyYW1lKTtcclxuXHRcdHN0b21wQ2xpZW50LnN1YnNjcmliZShcclxuXHRcdFx0XCIvdG9waWMvZ2FtZS1wcm9ncmVzcy9cIiArIGdhbWVJZCxcclxuXHRcdFx0ZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UuYm9keSk7XHJcblx0XHRcdFx0dXBkYXRlQm9hcmQoZGF0YS52aXNpYmxlVHJhaW5zKTtcclxuXHRcdFx0XHRkZXN0aW5hdGlvbkNhcmRzUXVhbnRpdHkudGV4dENvbnRlbnQgPSBgeCR7ZGF0YS50aWNrZXREZWNrLmxlbmd0aH1gO1xyXG5cdFx0XHRcdHRyYWluQ2FyZHNRdWFudGl0eS50ZXh0Q29udGVudCA9IGB4JHtkYXRhLnRyYWluRGVjay5sZW5ndGh9YDtcclxuXHRcdFx0XHRhdmFpbGFibGVDb2xvcnMgPSBkYXRhLnRyYWluRGVjaztcclxuXHRcdFx0XHR0aWNrZXRzID0gZGF0YS50aWNrZXREZWNrO1xyXG5cdFx0XHRcdGN1cnJlbnRCb2FyZCA9IGRhdGEuYm9hcmQ7XHJcblx0XHRcdFx0dHVybkFyciA9IGRhdGEucGxheWVyc09yZGVyO1xyXG5cdFx0XHRcdHR1cm4oKTtcclxuXHRcdFx0XHRkcmF3RGVzdGluYXRpb25DYXJkcyh0aWNrZXRzKTtcclxuXHRcdFx0XHRsb2FkR2FtZSgpO1xyXG5cdFx0XHRcdHNldFRyYWluc09uQm9hcmQoZGF0YS5ib2FyZCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcbiJdfQ==

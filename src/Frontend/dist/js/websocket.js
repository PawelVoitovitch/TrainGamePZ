"use strict";var stompClient,destinationCardsQuantity=document.querySelector(".destinationCardsQuantityAll"),trainCardsQuantity=document.querySelector(".trainCardsQuantityAll");function connectToSocket(o){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/lobby/"+o,function(t){console.log("received message: "+t),location.reload()},function(t){console.log("Error: "+t)})})}function connectToGameSocket(o){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/game-progress/"+o,function(t){t=JSON.parse(t.body);updateBoard(t.visibleTrains),destinationCardsQuantity.textContent="x".concat(t.ticketDeck.length),trainCardsQuantity.textContent="x".concat(t.trainDeck.length),availableColors=t.trainDeck,tickets=t.ticketDeck,currentBoard=t.board,drawDestinationCards(tickets),loadGame(),setTrainsOnBoard(t.board)},function(t){console.log("Error: "+t)})})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnNvY2tldC5qcyJdLCJuYW1lcyI6WyJzdG9tcENsaWVudCIsImRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRyYWluQ2FyZHNRdWFudGl0eSIsImNvbm5lY3RUb1NvY2tldCIsImdhbWVJZCIsImNvbnNvbGUiLCJzb2NrZXQiLCJjcm9zc0RvbWFpbiIsIlNvY2tKUyIsInVybCIsInVuZGVmaW5lZCIsIlN0b21wIiwib3ZlciIsImNvbm5lY3QiLCJmcmFtZSIsImxvZyIsInN1YnNjcmliZSIsInJlc3BvbnNlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvciIsImNvbm5lY3RUb0dhbWVTb2NrZXQiLCJwYXJzZSIsInVwZGF0ZUJvYXJkIiwiZGF0YSIsInZpc2libGVUcmFpbnMiLCJ0cmFpbkRlY2siLCJjdXJyZW50Qm9hcmQiLCJib2FyZCIsImJvZHkiLCJkcmF3RGVzdGluYXRpb25DYXJkcyIsInRleHRDb250ZW50IiwiY29uY2F0IiwidGlja2V0RGVjayIsImxlbmd0aCIsImF2YWlsYWJsZUNvbG9ycyIsInRpY2tldHMiLCJsb2FkR2FtZSIsInNldFRyYWluc09uQm9hcmQiXSwibWFwcGluZ3MiOiJhQUFBLElBQUlBLFlBQ0VDLHlCQUEyQkMsU0FBU0MsY0FEMUMsOEJBQWUsRUFJVEMsbUJBQXFCRixTQUFTQyxjQUFjLHdCQUF5QixFQUUzRSxTQUNRRSxnQkFBS0MsR0FBWkMsUUFDSUMsSUFBTSx3QkFBb0IsRUFBOUIsSUFBb0RDLEVBQUFBLElBQWFDLE9BQUFDLElBQUEsUUFBQUMsS0FBQUEsRUFBQSxDQUFBSCxZQUFBLENBQUEsQ0FBQSxDQUFBLEdBQ2pFVCxZQUR3RWEsTUFBQUMsS0FBQU4sQ0FBQSxHQUM3RE8sUUFBUSxHQUFDRCxTQUFZRSxHQUNoQ2hCLFFBQUFBLElBQVllLDJCQUE2QkMsQ0FBQSxFQUV4Q2hCLFlBRFFpQixVQUVQLGdCQURXQyxFQUVYLFNBQ1FDLEdBQVBaLFFBQ0FhLElBQVNDLHFCQUFRRixDQUFBLEVBQ2xCQyxTQUNBQyxPQUFVQyxDQURWLEVBQ0EsU0FHQUEsR0FDQWYsUUFBQVUsSUFBQSxVQUFBSyxDQUFBLENBQ0gsQ0FBQSxDQURDLENBSUFmLENBSEQsQ0FFQSxTQUlHZ0Isb0JBQUFqQixHQUhGQyxRQUlBUCxJQUFXLHdCQUFxQixFQUhoQyxJQUlBQSxFQUFZZSxJQUFBQSxPQUFVSixJQUFFLFFBQVVLLEtBQUFBLEVBQU8sQ0FIeENQLFlBSVcsQ0FBQSxDQUhaLENBQUMsR0FDRFQsWUFNYWEsTUFBT0MsS0FBQ1UsQ0FBTUwsR0FDeEJNLFFBQVlDLEdBQUtDLFNBQUFBLEdBTG5CcEIsUUFNRU4sSUFBQUEsMkJBQW9DZSxDQUFBLEVBTHRDaEIsWUFNRUksVUFMRCx3QkFNd0J3QixFQUx4QixTQU1RVCxHQUNQVSxFQUFBQSxLQUFlSCxNQUFLSSxFQUFLQyxJQUFBLEVBTHpCTixZQU9BTyxFQUFBQSxhQUE0QixFQU41Qi9CLHlCQU9VZ0MsWUFBQSxJQUFBQyxPQUFBUixFQUFBUyxXQUFBQyxNQUFBLEVBTlZoQyxtQkFPaUJzQixZQUFXLElBQUFRLE9BQUFSLEVBQUFFLFVBQUFRLE1BQUEsRUFDN0JDLGdCQUNlWCxFQUFFRSxVQVBoQlUsUUFRUXJCLEVBQUlrQixXQUNiTixhQUNBSCxFQUFBSSxNQUVIRSxxQkFBQU0sT0FBQSxFQVJJQyxTQUFRLEVBQ1JDLGlCQUFpQmQsRUFBS0ksS0FBSyxDQUM1QixFQUNBLFNBQVVSLEdBQ1RmLFFBQVFVLElBQUksVUFBWUssQ0FBSyxDQUM5QixDQUFDLENBRUgsQ0FBQyxDQUNGIiwiZmlsZSI6IndlYnNvY2tldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBzdG9tcENsaWVudDtcclxuY29uc3QgZGVzdGluYXRpb25DYXJkc1F1YW50aXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5kZXN0aW5hdGlvbkNhcmRzUXVhbnRpdHlBbGxcIlxyXG4pO1xyXG5jb25zdCB0cmFpbkNhcmRzUXVhbnRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRyYWluQ2FyZHNRdWFudGl0eUFsbFwiKTtcclxuXHJcbmZ1bmN0aW9uIGNvbm5lY3RUb1NvY2tldChnYW1lSWQpIHtcclxuXHRjb25zb2xlLmxvZyhcImNvbm5lY3RpbmcgdG8gdGhlIGdhbWVcIik7XHJcblx0bGV0IHNvY2tldCA9IG5ldyBTb2NrSlModXJsICsgXCIvam9pblwiLCB1bmRlZmluZWQsIHsgY3Jvc3NEb21haW46IHRydWUgfSk7XHJcblx0c3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7XHJcblx0c3RvbXBDbGllbnQuY29ubmVjdCh7fSwgZnVuY3Rpb24gKGZyYW1lKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcImNvbm5lY3RlZCB0byB0aGUgZnJhbWU6IFwiICsgZnJhbWUpO1xyXG5cdFx0c3RvbXBDbGllbnQuc3Vic2NyaWJlKFxyXG5cdFx0XHRcIi90b3BpYy9sb2JieS9cIiArIGdhbWVJZCxcclxuXHRcdFx0ZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJyZWNlaXZlZCBtZXNzYWdlOiBcIiArIHJlc3BvbnNlKTtcclxuXHRcdFx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0ZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJFcnJvcjogXCIgKyBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbm5lY3RUb0dhbWVTb2NrZXQoZ2FtZUlkKSB7XHJcblx0Y29uc29sZS5sb2coXCJjb25uZWN0aW5nIHRvIHRoZSBnYW1lXCIpO1xyXG5cdGxldCBzb2NrZXQgPSBuZXcgU29ja0pTKHVybCArIFwiL2pvaW5cIiwgdW5kZWZpbmVkLCB7XHJcblx0XHRjcm9zc0RvbWFpbjogdHJ1ZSxcclxuXHR9KTtcclxuXHRzdG9tcENsaWVudCA9IFN0b21wLm92ZXIoc29ja2V0KTtcclxuXHRzdG9tcENsaWVudC5jb25uZWN0KHt9LCBmdW5jdGlvbiAoZnJhbWUpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiY29ubmVjdGVkIHRvIHRoZSBmcmFtZTogXCIgKyBmcmFtZSk7XHJcblx0XHRzdG9tcENsaWVudC5zdWJzY3JpYmUoXHJcblx0XHRcdFwiL3RvcGljL2dhbWUtcHJvZ3Jlc3MvXCIgKyBnYW1lSWQsXHJcblx0XHRcdGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpO1xyXG5cdFx0XHRcdHVwZGF0ZUJvYXJkKGRhdGEudmlzaWJsZVRyYWlucyk7XHJcblx0XHRcdFx0ZGVzdGluYXRpb25DYXJkc1F1YW50aXR5LnRleHRDb250ZW50ID0gYHgke2RhdGEudGlja2V0RGVjay5sZW5ndGh9YDtcclxuXHRcdFx0XHR0cmFpbkNhcmRzUXVhbnRpdHkudGV4dENvbnRlbnQgPSBgeCR7ZGF0YS50cmFpbkRlY2subGVuZ3RofWA7XHJcblx0XHRcdFx0YXZhaWxhYmxlQ29sb3JzID0gZGF0YS50cmFpbkRlY2s7XHJcblx0XHRcdFx0dGlja2V0cyA9IGRhdGEudGlja2V0RGVjaztcclxuXHRcdFx0XHRjdXJyZW50Qm9hcmQgPSBkYXRhLmJvYXJkO1xyXG5cclxuXHRcdFx0XHRkcmF3RGVzdGluYXRpb25DYXJkcyh0aWNrZXRzKTtcclxuXHRcdFx0XHRsb2FkR2FtZSgpO1xyXG5cdFx0XHRcdHNldFRyYWluc09uQm9hcmQoZGF0YS5ib2FyZCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcbiJdfQ==

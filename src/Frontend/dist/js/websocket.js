"use strict";var stompClient,destinationCardsQuantity=document.querySelector(".destinationCardsQuantityAll"),trainCardsQuantity=document.querySelector(".trainCardsQuantityAll"),token=sessionStorage.getItem("token");function connectToSocket(o){var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({Authorization:"Bearer ".concat(token)},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/lobby/"+o,function(t){console.log("received message: "+t),location.reload()},function(t){console.log("Error: "+t)})})}function connectToGameSocket(o){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({Authorization:"Bearer ".concat(token)},function(t){stompClient.subscribe("/topic/game-progress/"+o,function(t){t=JSON.parse(t.body);updateBoard(t.visibleTrains),destinationCardsQuantity.textContent="x".concat(t.ticketDeck.length),trainCardsQuantity.textContent="x".concat(t.trainDeck.length),availableColors=t.trainDeck,tickets=t.ticketDeck,currentBoard=t.board,turnArr=t.playersOrder,turn(),drawDestinationCards(tickets),loadGame(),setTrainsOnBoard(t.board)},function(t){console.log("Error: "+t)})})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnNvY2tldC5qcyJdLCJuYW1lcyI6WyJzdG9tcENsaWVudCIsImRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRyYWluQ2FyZHNRdWFudGl0eSIsInRva2VuIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiY29ubmVjdFRvU29ja2V0IiwiZ2FtZUlkIiwic29ja2V0IiwiU29ja0pTIiwidXJsIiwidW5kZWZpbmVkIiwiY3Jvc3NEb21haW4iLCJTdG9tcCIsIm92ZXIiLCJjb25uZWN0IiwiQXV0aG9yaXphdGlvbiIsImNvbmNhdCIsImZyYW1lIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwic3Vic2NyaWJlIiwibG9jYXRpb24iLCJlcnJvciIsImNvbm5lY3RUb0dhbWVTb2NrZXQiLCJkYXRhIiwidXBkYXRlQm9hcmQiLCJKU09OIiwicGFyc2UiLCJ2aXNpYmxlVHJhaW5zIiwiYm9keSIsInRleHRDb250ZW50IiwidHJhaW5EZWNrIiwibGVuZ3RoIiwiYXZhaWxhYmxlQ29sb3JzIiwidGlja2V0RGVjayIsInRpY2tldHMiLCJjdXJyZW50Qm9hcmQiLCJwbGF5ZXJzT3JkZXIiLCJ0dXJuQXJyIiwidHVybiIsImRyYXdEZXN0aW5hdGlvbkNhcmRzIiwibG9hZEdhbWUiLCJzZXRUcmFpbnNPbkJvYXJkIiwiYm9hcmQiXSwibWFwcGluZ3MiOiJhQUFBLElBQUlBLFlBQ0VDLHlCQUEyQkMsU0FBU0MsY0FEMUMsOEJBQWUsRUFJVEMsbUJBQXFCRixTQUFTQyxjQUFjLHdCQUF5QixFQUNyRUUsTUFBUUMsZUFBZUMsUUFBUSxPQUFRLEVBQzdDLFNBQVNDLGdCQUFnQkMsR0FDeEIsSUFBQUMsRUFBVSxJQUFHQyxPQUFVQyxJQUFJLFFBQVVDLEtBQUFBLEVBQVcsQ0FBRUMsWUFBQSxDQUFBLENBQUEsQ0FBQSxHQUNsRGQsWUFEK0RlLE1BQUVDLEtBQUFOLENBQUEsR0FBT08sUUFBQSxDQUFBQyxjQUFBLFVBQUFDLE9BQUFkLEtBQUEsQ0FBQSxFQUFBLFNBQUFlLEdBQ3hFcEIsUUFBQUEsSUFBVywyQkFBcUJvQixDQUFBLEVBQ2hDcEIsWUFBWWlCLFVBR1YsZ0JBSGlDUixFQUFxQixTQUFFWSxHQUN6REMsUUFBUUMsSUFBSSxxQkFBQUYsQ0FBNkJELEVBQ3pDcEIsU0FBQUEsT0FBWXdCLENBS1gsRUFDQSxTQUZDQyxHQUNESCxRQUNBQyxJQUFBLFVBQWlCRyxDQUFBLENBRWpCLENBQUMsQ0FFSCxDQUFBLENBQ0QsQ0FFQSxTQUNRQyxvQkFBS2xCLEdBQVphLFFBQ0laLElBQU0sd0JBQW9CLEVBQTlCLElBQ0NJLEVBQUFBLElBQWFILE9BQUFDLElBQUEsUUFBQUMsS0FBQUEsRUFBQSxDQUNkQyxZQUFFLENBQUEsQ0FBRixDQUNBZCxHQUFBQSxZQUNZaUIsTUFBT0QsS0FBQ04sQ0FBQSxHQUFFUSxRQUFhLENBQUFBLGNBQVliLFVBQUFBLE9BQUtBLEtBQUEsQ0FBQSxFQUFBLFNBQUFlLEdBQUdwQixZQUFHd0IsVUFFeEQsd0JBQUFmLEVBQ0EsU0FDT21CLEdBQ05DLEVBQVdDLEtBQUtDLE1BQUNDLEVBQWNDLElBQUEsRUFBL0JKLFlBQ0E1QixFQUFBQSxhQUF5QmlDLEVBQXpCakMseUJBQ21CaUMsWUFBVyxJQUFBZixPQUFBQSxFQUFPUyxXQUFLTyxNQUFVQyxFQUFwRGhDLG1CQUNlOEIsWUFBUUMsSUFBQUEsT0FBU1AsRUFBQU8sVUFBQUMsTUFBQSxFQUFoQ0MsZ0JBQ2VDLEVBQUFBLFVBQWZDLFFBQ0FDLEVBQVlGLFdBQVpFLGFBQ1VaLEVBQUthLE1BQWZDLFFBQ01kLEVBQUFhLGFBQU5FLEtBQ0FDLEVBQUFBLHFCQUNVTCxPQUFBLEVBQVZNLFNBQ0FDLEVBQ0RBLGlCQUNVcEIsRUFBT3FCLEtBQUEsQ0FEakIsRUFDQSxTQUdBckIsR0FDQUosUUFBQUMsSUFBQSxVQUFBRyxDQUFBLENBQ0gsQ0FBQSxDQURDLENBQUMsQ0FDRiIsImZpbGUiOiJ3ZWJzb2NrZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc3RvbXBDbGllbnQ7XHJcbmNvbnN0IGRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIuZGVzdGluYXRpb25DYXJkc1F1YW50aXR5QWxsXCJcclxuKTtcclxuY29uc3QgdHJhaW5DYXJkc1F1YW50aXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmFpbkNhcmRzUXVhbnRpdHlBbGxcIik7XHJcbmNvbnN0IHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpO1xyXG5mdW5jdGlvbiBjb25uZWN0VG9Tb2NrZXQoZ2FtZUlkKSB7XHJcblx0bGV0IHNvY2tldCA9IG5ldyBTb2NrSlModXJsICsgXCIvam9pblwiLCB1bmRlZmluZWQsIHsgY3Jvc3NEb21haW46IHRydWUgfSk7XHJcblx0c3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7XHJcblx0c3RvbXBDbGllbnQuY29ubmVjdCh7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0sIGZ1bmN0aW9uIChmcmFtZSkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0ZWQgdG8gdGhlIGZyYW1lOiBcIiArIGZyYW1lKTtcclxuXHRcdHN0b21wQ2xpZW50LnN1YnNjcmliZShcclxuXHRcdFx0XCIvdG9waWMvbG9iYnkvXCIgKyBnYW1lSWQsXHJcblx0XHRcdGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicmVjZWl2ZWQgbWVzc2FnZTogXCIgKyByZXNwb25zZSk7XHJcblx0XHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb25uZWN0VG9HYW1lU29ja2V0KGdhbWVJZCkge1xyXG5cdGNvbnNvbGUubG9nKFwiY29ubmVjdGluZyB0byB0aGUgZ2FtZVwiKTtcclxuXHRsZXQgc29ja2V0ID0gbmV3IFNvY2tKUyh1cmwgKyBcIi9qb2luXCIsIHVuZGVmaW5lZCwge1xyXG5cdFx0Y3Jvc3NEb21haW46IHRydWUsXHJcblx0fSk7XHJcblx0c3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7XHJcblx0c3RvbXBDbGllbnQuY29ubmVjdCh7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0sIGZ1bmN0aW9uIChmcmFtZSkge1xyXG5cdFx0c3RvbXBDbGllbnQuc3Vic2NyaWJlKFxyXG5cdFx0XHRcIi90b3BpYy9nYW1lLXByb2dyZXNzL1wiICsgZ2FtZUlkLFxyXG5cdFx0XHRmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcclxuXHRcdFx0XHR1cGRhdGVCb2FyZChkYXRhLnZpc2libGVUcmFpbnMpO1xyXG5cdFx0XHRcdGRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eS50ZXh0Q29udGVudCA9IGB4JHtkYXRhLnRpY2tldERlY2subGVuZ3RofWA7XHJcblx0XHRcdFx0dHJhaW5DYXJkc1F1YW50aXR5LnRleHRDb250ZW50ID0gYHgke2RhdGEudHJhaW5EZWNrLmxlbmd0aH1gO1xyXG5cdFx0XHRcdGF2YWlsYWJsZUNvbG9ycyA9IGRhdGEudHJhaW5EZWNrO1xyXG5cdFx0XHRcdHRpY2tldHMgPSBkYXRhLnRpY2tldERlY2s7XHJcblx0XHRcdFx0Y3VycmVudEJvYXJkID0gZGF0YS5ib2FyZDtcclxuXHRcdFx0XHR0dXJuQXJyID0gZGF0YS5wbGF5ZXJzT3JkZXI7XHJcblx0XHRcdFx0dHVybigpO1xyXG5cdFx0XHRcdGRyYXdEZXN0aW5hdGlvbkNhcmRzKHRpY2tldHMpO1xyXG5cdFx0XHRcdGxvYWRHYW1lKCk7XHJcblx0XHRcdFx0c2V0VHJhaW5zT25Cb2FyZChkYXRhLmJvYXJkKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0ZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJFcnJvcjogXCIgKyBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fSk7XHJcbn1cclxuIl19

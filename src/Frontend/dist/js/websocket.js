"use strict";var stompClient,destinationCardsQuantity=document.querySelector(".destinationCardsQuantityAll"),trainCardsQuantity=document.querySelector(".trainCardsQuantityAll"),token=sessionStorage.getItem("token");function connectToSocket(e){var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/lobby/"+e,function(t){console.log("received message: "+t),location.reload()},function(t){console.log("Error: "+t)})})}function connectToGameSocket(e){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({},function(t){stompClient.subscribe("/topic/game-progress/"+e,function(t){t=JSON.parse(t.body);updateBoard(t.visibleTrains),destinationCardsQuantity.textContent="x".concat(t.ticketDeck.length),trainCardsQuantity.textContent="x".concat(t.trainDeck.length),availableColors=t.trainDeck,tickets=t.ticketDeck,currentBoard=t.board,turnArr=t.playersOrder,turn(),drawDestinationCards(tickets),loadGame(),setTrainsOnBoard(t.board),"ENDED"===t.status&&handleGameEnd(t)},function(t){console.log("Error: "+t)})})}function handleGameEnd(t){var s=document.querySelector(".resultPopup");s.style.display="flex",s.style.zIndex=100,t.players.sort(function(t,e){return e.points-t.points}).forEach(function(t,e){var n=document.createElement("div"),o=(n.classList.add("divPlayerResult"),document.createElement("span")),a=(o.classList.add("mdi","mdi-trophy"),document.createElement("p")),r=(a.classList.add("playerNameResult"),a.textContent=t.login,document.createElement("p"));r.classList.add("playerResult"),r.textContent=t.points,n.appendChild(o),n.appendChild(a),n.appendChild(r),0===e?n.style.backgroundColor="gold":1===e?n.style.backgroundColor="silver":2===e?n.style.backgroundColor="brown":3===e&&(n.style.backgroundColor="green"),s.appendChild(n)})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnNvY2tldC5qcyJdLCJuYW1lcyI6WyJzdG9tcENsaWVudCIsImRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRyYWluQ2FyZHNRdWFudGl0eSIsInRva2VuIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwic29ja2V0IiwiZ2FtZUlkIiwiY3Jvc3NEb21haW4iLCJTb2NrSlMiLCJ1cmwiLCJ1bmRlZmluZWQiLCJjb25uZWN0Iiwib3ZlciIsImxvZyIsImZyYW1lIiwiY29uc29sZSIsInJlc3BvbnNlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvciIsImNvbm5lY3RUb0dhbWVTb2NrZXQiLCJKU09OIiwicGFyc2UiLCJib2R5IiwidXBkYXRlQm9hcmQiLCJ0ZXh0Q29udGVudCIsImF2YWlsYWJsZUNvbG9ycyIsImRhdGEiLCJ0cmFpbkRlY2siLCJzdWJzY3JpYmUiLCJib2FyZCIsImRyYXdEZXN0aW5hdGlvbkNhcmRzIiwiY29uY2F0IiwidGlja2V0RGVjayIsImxlbmd0aCIsInRpY2tldHMiLCJoYW5kbGVHYW1lRW5kIiwiY3VycmVudEJvYXJkIiwidHVybkFyciIsInR1cm4iLCJsb2FkR2FtZSIsInNldFRyYWluc09uQm9hcmQiLCJzZXJ2ZXJSZXNwb25zZSIsInJlc3VsdFBvcHVwIiwic29ydGVkUGxheWVycyIsInBvaW50cyIsInRyb3BoeUljb24iLCJjbGFzc0xpc3QiLCJjcmVhdGVFbGVtZW50IiwicGxheWVyTmFtZSIsInNvcnQiLCJhIiwicGxheWVyUmVzdWx0IiwiZGl2UGxheWVyUmVzdWx0IiwiYXBwZW5kQ2hpbGQiLCJhZGQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInBsYXllciIsImluZGV4Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxZQUNFQyx5QkFBMkJDLFNBQVNDLGNBRDFDLDhCQUFlLEVBSVRDLG1CQUFxQkYsU0FBU0MsY0FBYyx3QkFBeUIsRUFDckVFLE1BQVFD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OiJ3ZWJzb2NrZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc3RvbXBDbGllbnQ7XHJcbmNvbnN0IGRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIuZGVzdGluYXRpb25DYXJkc1F1YW50aXR5QWxsXCJcclxuKTtcclxuY29uc3QgdHJhaW5DYXJkc1F1YW50aXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmFpbkNhcmRzUXVhbnRpdHlBbGxcIik7XHJcbmNvbnN0IHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpO1xyXG5cclxuZnVuY3Rpb24gY29ubmVjdFRvU29ja2V0KGdhbWVJZCkge1xyXG5cdGxldCBzb2NrZXQgPSBuZXcgU29ja0pTKHVybCArIFwiL2pvaW5cIiwgdW5kZWZpbmVkLCB7XHJcblx0XHRjcm9zc0RvbWFpbjogdHJ1ZSxcclxuXHR9KTtcclxuXHRzdG9tcENsaWVudCA9IFN0b21wLm92ZXIoc29ja2V0KTtcclxuXHRzdG9tcENsaWVudC5jb25uZWN0KHt9LCBmdW5jdGlvbiAoZnJhbWUpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiY29ubmVjdGVkIHRvIHRoZSBmcmFtZTogXCIgKyBmcmFtZSk7XHJcblx0XHRzdG9tcENsaWVudC5zdWJzY3JpYmUoXHJcblx0XHRcdFwiL3RvcGljL2xvYmJ5L1wiICsgZ2FtZUlkLFxyXG5cdFx0XHRmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcInJlY2VpdmVkIG1lc3NhZ2U6IFwiICsgcmVzcG9uc2UpO1xyXG5cdFx0XHRcdGxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkVycm9yOiBcIiArIGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29ubmVjdFRvR2FtZVNvY2tldChnYW1lSWQpIHtcclxuXHRjb25zb2xlLmxvZyhcImNvbm5lY3RpbmcgdG8gdGhlIGdhbWVcIik7XHJcblx0bGV0IHNvY2tldCA9IG5ldyBTb2NrSlModXJsICsgXCIvam9pblwiLCB1bmRlZmluZWQsIHtcclxuXHRcdGNyb3NzRG9tYWluOiB0cnVlLFxyXG5cdH0pO1xyXG5cdHN0b21wQ2xpZW50ID0gU3RvbXAub3Zlcihzb2NrZXQpO1xyXG5cdHN0b21wQ2xpZW50LmNvbm5lY3Qoe30sIGZ1bmN0aW9uIChmcmFtZSkge1xyXG5cdFx0c3RvbXBDbGllbnQuc3Vic2NyaWJlKFxyXG5cdFx0XHRcIi90b3BpYy9nYW1lLXByb2dyZXNzL1wiICsgZ2FtZUlkLFxyXG5cdFx0XHRmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcclxuXHRcdFx0XHR1cGRhdGVCb2FyZChkYXRhLnZpc2libGVUcmFpbnMpO1xyXG5cdFx0XHRcdGRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eS50ZXh0Q29udGVudCA9IGB4JHtkYXRhLnRpY2tldERlY2subGVuZ3RofWA7XHJcblx0XHRcdFx0dHJhaW5DYXJkc1F1YW50aXR5LnRleHRDb250ZW50ID0gYHgke2RhdGEudHJhaW5EZWNrLmxlbmd0aH1gO1xyXG5cdFx0XHRcdGF2YWlsYWJsZUNvbG9ycyA9IGRhdGEudHJhaW5EZWNrO1xyXG5cdFx0XHRcdHRpY2tldHMgPSBkYXRhLnRpY2tldERlY2s7XHJcblx0XHRcdFx0Y3VycmVudEJvYXJkID0gZGF0YS5ib2FyZDtcclxuXHRcdFx0XHR0dXJuQXJyID0gZGF0YS5wbGF5ZXJzT3JkZXI7XHJcblx0XHRcdFx0dHVybigpO1xyXG5cdFx0XHRcdGRyYXdEZXN0aW5hdGlvbkNhcmRzKHRpY2tldHMpO1xyXG5cdFx0XHRcdGxvYWRHYW1lKCk7XHJcblx0XHRcdFx0c2V0VHJhaW5zT25Cb2FyZChkYXRhLmJvYXJkKTtcclxuXHRcdFx0XHRpZiAoZGF0YS5zdGF0dXMgPT09IFwiRU5ERURcIikge1xyXG5cdFx0XHRcdFx0aGFuZGxlR2FtZUVuZChkYXRhKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVHYW1lRW5kKHNlcnZlclJlc3BvbnNlKSB7XHJcblx0Y29uc3QgcmVzdWx0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdFBvcHVwXCIpO1xyXG5cdHJlc3VsdFBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHRyZXN1bHRQb3B1cC5zdHlsZS56SW5kZXggPSAxMDA7XHJcblx0Y29uc3Qgc29ydGVkUGxheWVycyA9IHNlcnZlclJlc3BvbnNlLnBsYXllcnMuc29ydChcclxuXHRcdChhLCBiKSA9PiBiLnBvaW50cyAtIGEucG9pbnRzXHJcblx0KTtcclxuXHJcblx0c29ydGVkUGxheWVycy5mb3JFYWNoKChwbGF5ZXIsIGluZGV4KSA9PiB7XHJcblx0XHRjb25zdCBkaXZQbGF5ZXJSZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0ZGl2UGxheWVyUmVzdWx0LmNsYXNzTGlzdC5hZGQoXCJkaXZQbGF5ZXJSZXN1bHRcIik7XHJcblxyXG5cdFx0Y29uc3QgdHJvcGh5SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0dHJvcGh5SWNvbi5jbGFzc0xpc3QuYWRkKFwibWRpXCIsIFwibWRpLXRyb3BoeVwiKTtcclxuXHJcblx0XHRjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRwbGF5ZXJOYW1lLmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXJOYW1lUmVzdWx0XCIpO1xyXG5cdFx0cGxheWVyTmFtZS50ZXh0Q29udGVudCA9IHBsYXllci5sb2dpbjtcclxuXHJcblx0XHRjb25zdCBwbGF5ZXJSZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdHBsYXllclJlc3VsdC5jbGFzc0xpc3QuYWRkKFwicGxheWVyUmVzdWx0XCIpO1xyXG5cdFx0cGxheWVyUmVzdWx0LnRleHRDb250ZW50ID0gcGxheWVyLnBvaW50cztcclxuXHJcblx0XHRkaXZQbGF5ZXJSZXN1bHQuYXBwZW5kQ2hpbGQodHJvcGh5SWNvbik7XHJcblx0XHRkaXZQbGF5ZXJSZXN1bHQuYXBwZW5kQ2hpbGQocGxheWVyTmFtZSk7XHJcblx0XHRkaXZQbGF5ZXJSZXN1bHQuYXBwZW5kQ2hpbGQocGxheWVyUmVzdWx0KTtcclxuXHJcblx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0ZGl2UGxheWVyUmVzdWx0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ29sZFwiO1xyXG5cdFx0fSBlbHNlIGlmIChpbmRleCA9PT0gMSkge1xyXG5cdFx0XHRkaXZQbGF5ZXJSZXN1bHQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJzaWx2ZXJcIjtcclxuXHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IDIpIHtcclxuXHRcdFx0ZGl2UGxheWVyUmVzdWx0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYnJvd25cIjtcclxuXHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IDMpIHtcclxuXHRcdFx0ZGl2UGxheWVyUmVzdWx0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHRQb3B1cC5hcHBlbmRDaGlsZChkaXZQbGF5ZXJSZXN1bHQpO1xyXG5cdH0pO1xyXG59XHJcbiJdfQ==

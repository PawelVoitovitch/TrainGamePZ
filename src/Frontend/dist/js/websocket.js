"use strict";var stompClient,destinationCardsQuantity=document.querySelector(".destinationCardsQuantityAll"),trainCardsQuantity=document.querySelector(".trainCardsQuantityAll");function connectToSocket(e){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/lobby/"+e,function(t){console.log("received message: "+t),location.reload()},function(t){console.log("Error: "+t)})})}function connectToGameSocket(e){console.log("connecting to the game");var t=new SockJS(url+"/join",void 0,{crossDomain:!0});(stompClient=Stomp.over(t)).connect({},function(t){console.log("connected to the frame: "+t),stompClient.subscribe("/topic/game-progress/"+e,function(t){t=JSON.parse(t.body);console.log(t),updateBoard(t.visibleTrains),destinationCardsQuantity.textContent="x".concat(t.ticketDeck.length),trainCardsQuantity.textContent="x".concat(t.trainDeck.length),availableColors=t.trainDeck,tickets=t.ticketDeck,currentBoard=t.board,turnArr=t.playersOrder,turn(),drawDestinationCards(tickets),loadGame(),setTrainsOnBoard(t.board),"ENDED"===t.status&&handleGameEnd(t)},function(t){console.log("Error: "+t)})})}function handleGameEnd(t){var c=document.querySelector(".resultPopup");c.style.display="flex",c.style.zIndex=100,t.players.sort(function(t,e){return e.points-t.points}).forEach(function(t,e){var o=document.createElement("div"),n=(o.classList.add("divPlayerResult"),document.createElement("span")),a=(n.classList.add("mdi","mdi-trophy"),document.createElement("p")),r=(a.classList.add("playerNameResult"),a.textContent=t.login,document.createElement("p"));r.classList.add("playerResult"),r.textContent=t.points,o.appendChild(n),o.appendChild(a),o.appendChild(r),0===e?o.style.backgroundColor="gold":1===e?o.style.backgroundColor="silver":2===e?o.style.backgroundColor="brown":3===e&&(o.style.backgroundColor="green"),c.appendChild(o)})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnNvY2tldC5qcyJdLCJuYW1lcyI6WyJzdG9tcENsaWVudCIsImRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRyYWluQ2FyZHNRdWFudGl0eSIsImNvbm5lY3RUb1NvY2tldCIsImdhbWVJZCIsImNvbnNvbGUiLCJzb2NrZXQiLCJjcm9zc0RvbWFpbiIsIlNvY2tKUyIsInVybCIsInVuZGVmaW5lZCIsIlN0b21wIiwib3ZlciIsImNvbm5lY3QiLCJmcmFtZSIsImxvZyIsInN1YnNjcmliZSIsInJlc3BvbnNlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvciIsImNvbm5lY3RUb0dhbWVTb2NrZXQiLCJwYXJzZSIsImRhdGEiLCJ1cGRhdGVCb2FyZCIsInRleHRDb250ZW50IiwiYXZhaWxhYmxlQ29sb3JzIiwidGlja2V0cyIsInRpY2tldERlY2siLCJib2R5IiwiY3VycmVudEJvYXJkIiwicGxheWVyc09yZGVyIiwiY29uY2F0IiwibGVuZ3RoIiwiZHJhd0Rlc3RpbmF0aW9uQ2FyZHMiLCJ0cmFpbkRlY2siLCJzZXRUcmFpbnNPbkJvYXJkIiwic3RhdHVzIiwiYm9hcmQiLCJ0dXJuQXJyIiwiaGFuZGxlR2FtZUVuZCIsInR1cm4iLCJsb2FkR2FtZSIsInJlc3VsdFBvcHVwIiwic3R5bGUiLCJkaXZQbGF5ZXJSZXN1bHQiLCJjbGFzc0xpc3QiLCJjcmVhdGVFbGVtZW50IiwidHJvcGh5SWNvbiIsInBsYXllck5hbWUiLCJ6SW5kZXgiLCJwbGF5ZXJzIiwic29ydCIsImEiLCJwb2ludHMiLCJwbGF5ZXIiLCJwbGF5ZXJSZXN1bHQiLCJhcHBlbmRDaGlsZCIsImluZGV4IiwiYmFja2dyb3VuZENvbG9yIiwiYWRkIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxZQUNFQyx5QkFBMkJDLFNBQVNDLGNBRDFDLDhCQUFlLEVBSVRDLG1CQUFxQkYsU0FBU0MsY0FBYyx3QkFBeUIsRUFFM0UsU0FDUUUsZ0JBQUtD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YyxZQUFZWixDQUFlLENBQ3hDLENBQUMsQ0FDRiIsImZpbGUiOiJ3ZWJzb2NrZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc3RvbXBDbGllbnQ7XHJcbmNvbnN0IGRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIuZGVzdGluYXRpb25DYXJkc1F1YW50aXR5QWxsXCJcclxuKTtcclxuY29uc3QgdHJhaW5DYXJkc1F1YW50aXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cmFpbkNhcmRzUXVhbnRpdHlBbGxcIik7XHJcblxyXG5mdW5jdGlvbiBjb25uZWN0VG9Tb2NrZXQoZ2FtZUlkKSB7XHJcblx0Y29uc29sZS5sb2coXCJjb25uZWN0aW5nIHRvIHRoZSBnYW1lXCIpO1xyXG5cdGxldCBzb2NrZXQgPSBuZXcgU29ja0pTKHVybCArIFwiL2pvaW5cIiwgdW5kZWZpbmVkLCB7IGNyb3NzRG9tYWluOiB0cnVlIH0pO1xyXG5cdHN0b21wQ2xpZW50ID0gU3RvbXAub3Zlcihzb2NrZXQpO1xyXG5cdHN0b21wQ2xpZW50LmNvbm5lY3Qoe30sIGZ1bmN0aW9uIChmcmFtZSkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0ZWQgdG8gdGhlIGZyYW1lOiBcIiArIGZyYW1lKTtcclxuXHRcdHN0b21wQ2xpZW50LnN1YnNjcmliZShcclxuXHRcdFx0XCIvdG9waWMvbG9iYnkvXCIgKyBnYW1lSWQsXHJcblx0XHRcdGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicmVjZWl2ZWQgbWVzc2FnZTogXCIgKyByZXNwb25zZSk7XHJcblx0XHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb25uZWN0VG9HYW1lU29ja2V0KGdhbWVJZCkge1xyXG5cdGNvbnNvbGUubG9nKFwiY29ubmVjdGluZyB0byB0aGUgZ2FtZVwiKTtcclxuXHRsZXQgc29ja2V0ID0gbmV3IFNvY2tKUyh1cmwgKyBcIi9qb2luXCIsIHVuZGVmaW5lZCwge1xyXG5cdFx0Y3Jvc3NEb21haW46IHRydWUsXHJcblx0fSk7XHJcblx0c3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7XHJcblx0c3RvbXBDbGllbnQuY29ubmVjdCh7fSwgZnVuY3Rpb24gKGZyYW1lKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcImNvbm5lY3RlZCB0byB0aGUgZnJhbWU6IFwiICsgZnJhbWUpO1xyXG5cdFx0c3RvbXBDbGllbnQuc3Vic2NyaWJlKFxyXG5cdFx0XHRcIi90b3BpYy9nYW1lLXByb2dyZXNzL1wiICsgZ2FtZUlkLFxyXG5cdFx0XHRmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHR1cGRhdGVCb2FyZChkYXRhLnZpc2libGVUcmFpbnMpO1xyXG5cdFx0XHRcdGRlc3RpbmF0aW9uQ2FyZHNRdWFudGl0eS50ZXh0Q29udGVudCA9IGB4JHtkYXRhLnRpY2tldERlY2subGVuZ3RofWA7XHJcblx0XHRcdFx0dHJhaW5DYXJkc1F1YW50aXR5LnRleHRDb250ZW50ID0gYHgke2RhdGEudHJhaW5EZWNrLmxlbmd0aH1gO1xyXG5cdFx0XHRcdGF2YWlsYWJsZUNvbG9ycyA9IGRhdGEudHJhaW5EZWNrO1xyXG5cdFx0XHRcdHRpY2tldHMgPSBkYXRhLnRpY2tldERlY2s7XHJcblx0XHRcdFx0Y3VycmVudEJvYXJkID0gZGF0YS5ib2FyZDtcclxuXHRcdFx0XHR0dXJuQXJyID0gZGF0YS5wbGF5ZXJzT3JkZXI7XHJcblx0XHRcdFx0dHVybigpO1xyXG5cdFx0XHRcdGRyYXdEZXN0aW5hdGlvbkNhcmRzKHRpY2tldHMpO1xyXG5cdFx0XHRcdGxvYWRHYW1lKCk7XHJcblx0XHRcdFx0c2V0VHJhaW5zT25Cb2FyZChkYXRhLmJvYXJkKTtcclxuXHRcdFx0XHRpZiAoZGF0YS5zdGF0dXMgPT09IFwiRU5ERURcIikge1xyXG5cdFx0XHRcdFx0aGFuZGxlR2FtZUVuZChkYXRhKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVHYW1lRW5kKHNlcnZlclJlc3BvbnNlKSB7XHJcblx0Y29uc3QgcmVzdWx0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3VsdFBvcHVwXCIpO1xyXG5cdHJlc3VsdFBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHRyZXN1bHRQb3B1cC5zdHlsZS56SW5kZXggPSAxMDA7XHJcblx0Y29uc3Qgc29ydGVkUGxheWVycyA9IHNlcnZlclJlc3BvbnNlLnBsYXllcnMuc29ydChcclxuXHRcdChhLCBiKSA9PiBiLnBvaW50cyAtIGEucG9pbnRzXHJcblx0KTtcclxuXHJcblx0c29ydGVkUGxheWVycy5mb3JFYWNoKChwbGF5ZXIsIGluZGV4KSA9PiB7XHJcblx0XHRjb25zdCBkaXZQbGF5ZXJSZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0ZGl2UGxheWVyUmVzdWx0LmNsYXNzTGlzdC5hZGQoXCJkaXZQbGF5ZXJSZXN1bHRcIik7XHJcblxyXG5cdFx0Y29uc3QgdHJvcGh5SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0dHJvcGh5SWNvbi5jbGFzc0xpc3QuYWRkKFwibWRpXCIsIFwibWRpLXRyb3BoeVwiKTtcclxuXHJcblx0XHRjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRwbGF5ZXJOYW1lLmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXJOYW1lUmVzdWx0XCIpO1xyXG5cdFx0cGxheWVyTmFtZS50ZXh0Q29udGVudCA9IHBsYXllci5sb2dpbjtcclxuXHJcblx0XHRjb25zdCBwbGF5ZXJSZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdHBsYXllclJlc3VsdC5jbGFzc0xpc3QuYWRkKFwicGxheWVyUmVzdWx0XCIpO1xyXG5cdFx0cGxheWVyUmVzdWx0LnRleHRDb250ZW50ID0gcGxheWVyLnBvaW50cztcclxuXHJcblx0XHRkaXZQbGF5ZXJSZXN1bHQuYXBwZW5kQ2hpbGQodHJvcGh5SWNvbik7XHJcblx0XHRkaXZQbGF5ZXJSZXN1bHQuYXBwZW5kQ2hpbGQocGxheWVyTmFtZSk7XHJcblx0XHRkaXZQbGF5ZXJSZXN1bHQuYXBwZW5kQ2hpbGQocGxheWVyUmVzdWx0KTtcclxuXHJcblx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0ZGl2UGxheWVyUmVzdWx0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ29sZFwiO1xyXG5cdFx0fSBlbHNlIGlmIChpbmRleCA9PT0gMSkge1xyXG5cdFx0XHRkaXZQbGF5ZXJSZXN1bHQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJzaWx2ZXJcIjtcclxuXHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IDIpIHtcclxuXHRcdFx0ZGl2UGxheWVyUmVzdWx0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYnJvd25cIjtcclxuXHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IDMpIHtcclxuXHRcdFx0ZGl2UGxheWVyUmVzdWx0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHRQb3B1cC5hcHBlbmRDaGlsZChkaXZQbGF5ZXJSZXN1bHQpO1xyXG5cdH0pO1xyXG59XHJcbiJdfQ==

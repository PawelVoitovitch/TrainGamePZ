"use strict";var username=document.querySelector("#username"),password=document.querySelector("#password"),confirmPassword=document.querySelector("#password2"),email=document.querySelector("#email"),sendBtn=document.querySelector(".send"),clearBtn=document.querySelector(".clear"),closeBtn=document.querySelector(".close"),popup=document.querySelector(".popup"),terms=document.getElementById("terms"),checkTerms=document.querySelector(".checkTerms"),url="http://localhost:8090",showErr=function(e,r){var e=e.parentElement,o=e.querySelector(".error-text");e.classList.add("error"),o.textContent=r},clearErr=function(e){e.parentElement.classList.remove("error")},checkForm=function(e){e.forEach(function(e){""===e.value.trim()?showErr(e,"Enter "+e.placeholder.toLowerCase()+" !"):(clearErr(e),e===username?checkLenght(username,3):e===password?checkLenght(password,8):e===confirmPassword?(checkPassword(password,confirmPassword),checkLenght(password,8)):e===email&&checkEmail(email))}),terms.checked?clearErr(checkTerms):showErr(checkTerms,"Confirm terms and conditions!")},checkLenght=function(e,r){e.value.length<r&&showErr(e,"".concat(e.placeholder," must contain at least ").concat(r," characters!"))},checkPassword=function(e,r){e.value!==r.value&&showErr(r,"Passwords are different!")},checkErrors=function(){var e=document.querySelectorAll(".form-box"),r=0;e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&(e={login:username.value,email:email.value,password:password.value},registerUser(e))},checkEmail=function(e){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1-3}\.[0-9]{1-3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?clearErr(email):showErr(e,"Invalid email!")},registerUser=function(e){fetch("".concat(url,"/user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok||(popup.querySelector("p").textContent="User exist. Log in!"),popup.classList.add("show-popup")}).catch(function(){popup.querySelector("p").textContent="Registration failed",popup.classList.add("show-popup")})};clearBtn.addEventListener("click",function(e){e.preventDefault(),[username,password,confirmPassword,email,checkTerms].forEach(function(e){e.value="",clearErr(e)})}),sendBtn.addEventListener("click",function(e){e.preventDefault(),checkForm([username,password,confirmPassword,email]),checkErrors()}),popup.querySelector("button").addEventListener("click",function(){popup.classList.remove("show-popup")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1WYWxpZGF0aW9uLmpzIl0sIm5hbWVzIjpbInVzZXJuYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJlbWFpbCIsInNlbmRCdG4iLCJjbGVhckJ0biIsImNsb3NlQnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cCIsInRlcm1zIiwidXJsIiwiaW5wdXQiLCJtc2ciLCJzaG93RXJyIiwiZm9ybUJveCIsInBhcmVudEVsZW1lbnQiLCJlcnJvck1zZyIsImNsYXNzTGlzdCIsImNsZWFyRXJyIiwicmVtb3ZlIiwiZm9yRWFjaCIsInZhbHVlIiwiZWwiLCJwbGFjZWhvbGRlciIsInRvTG93ZXJDYXNlIiwiY2hlY2tMZW5naHQiLCJjaGVja1Bhc3N3b3JkIiwiY2hlY2tFbWFpbCIsImNoZWNrVGVybXMiLCJtaW4iLCJsZW5ndGgiLCJpbnB1dDEiLCJpbnB1dDIiLCJhbGxJbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyb3JDb3VudCIsImNoZWNrRXJyb3JzIiwiY29udGFpbnMiLCJsb2dpbiIsInRlc3QiLCJyZWdpc3RlclVzZXIiLCJmZXRjaCIsImFkZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVzZXJEYXRhIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiZWxlbWVudCIsInRleHRDb250ZW50IiwiY2hlY2tGb3JtIiwiZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsU0FBV0MsU0FBU0MsY0FBYyxXQUFXLEVBQzdDQyxTQUFXRixTQUFTQyxjQUFjLFdBQVcsRUFEN0NGLGdCQUFvQkUsU0FBQUEsY0FBYyxZQUFZLEVBQzlDQyxNQUFRRixTQUFXQyxjQUFjLFFBQUMsRUFDbENFLFFBQUFBLFNBQWtCSCxjQUFTQyxPQUFjLEVBQ3pDRyxTQUFRSixTQUFTQyxjQUFjLFFBQVMsRUFDeENJLFNBQVVM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UUFBUyxTQUFDSyxHQUNsQ0EsRUFBRUosZUFBYyxFQUNoQkcsVUFBVSxDQUFDeEQsU0FBVUcsU0FBVUMsZ0JBQWlCQyxNQUFNLEVBRXREaUMsWUFBVyxDQUNaLENBQUMsRUFFRDVCLE1BQU1SLGNBQWMsUUFBUSxFQUFFa0QsaUJBQWlCLFFBQVMsV0FDdkQxQyxNQUFNUyxVQUFVRSxPQUFPLFlBQVksQ0FDcEMsQ0FBQyIsImZpbGUiOiJmb3JtVmFsaWRhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VybmFtZVwiKTtcclxuY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpO1xyXG5jb25zdCBjb25maXJtUGFzc3dvcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkMlwiKTtcclxuY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYWlsXCIpO1xyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZW5kXCIpO1xyXG5jb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xlYXJcIik7XHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKTtcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwXCIpO1xyXG5jb25zdCB0ZXJtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGVybXNcIik7XHJcbmNvbnN0IGNoZWNrVGVybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrVGVybXNcIik7XHJcbmNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDkwXCI7XHJcblxyXG5jb25zdCBzaG93RXJyID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcihcIi5lcnJvci10ZXh0XCIpO1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gbXNnO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJFcnIgPSAoaW5wdXQpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IChpbnB1dCkgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goKGVsKSA9PiB7XHJcblx0XHRpZiAoZWwudmFsdWUudHJpbSgpID09PSBcIlwiKSB7XHJcblx0XHRcdHNob3dFcnIoZWwsIFwiRW50ZXIgXCIgKyBlbC5wbGFjZWhvbGRlci50b0xvd2VyQ2FzZSgpICsgXCIgIVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyKGVsKTtcclxuXHRcdFx0aWYgKGVsID09PSB1c2VybmFtZSkge1xyXG5cdFx0XHRcdGNoZWNrTGVuZ2h0KHVzZXJuYW1lLCAzKTtcclxuXHRcdFx0fSBlbHNlIGlmIChlbCA9PT0gcGFzc3dvcmQpIHtcclxuXHRcdFx0XHRjaGVja0xlbmdodChwYXNzd29yZCwgOCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZWwgPT09IGNvbmZpcm1QYXNzd29yZCkge1xyXG5cdFx0XHRcdGNoZWNrUGFzc3dvcmQocGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCk7XHJcblx0XHRcdFx0Y2hlY2tMZW5naHQocGFzc3dvcmQsIDgpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGVsID09PSBlbWFpbCkge1xyXG5cdFx0XHRcdGNoZWNrRW1haWwoZW1haWwpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0aWYgKCF0ZXJtcy5jaGVja2VkKSB7XHJcblx0XHRzaG93RXJyKGNoZWNrVGVybXMsIFwiQ29uZmlybSB0ZXJtcyBhbmQgY29uZGl0aW9ucyFcIik7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNsZWFyRXJyKGNoZWNrVGVybXMpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrTGVuZ2h0ID0gKGlucHV0LCBtaW4pID0+IHtcclxuXHRpZiAoaW5wdXQudmFsdWUubGVuZ3RoIDwgbWluKSB7XHJcblx0XHRzaG93RXJyKFxyXG5cdFx0XHRpbnB1dCxcclxuXHRcdFx0YCR7aW5wdXQucGxhY2Vob2xkZXJ9IG11c3QgY29udGFpbiBhdCBsZWFzdCAke21pbn0gY2hhcmFjdGVycyFgXHJcblx0XHQpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrUGFzc3dvcmQgPSAoaW5wdXQxLCBpbnB1dDIpID0+IHtcclxuXHRpZiAoaW5wdXQxLnZhbHVlICE9PSBpbnB1dDIudmFsdWUpIHtcclxuXHRcdHNob3dFcnIoaW5wdXQyLCBcIlBhc3N3b3JkcyBhcmUgZGlmZmVyZW50IVwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tYm94XCIpO1xyXG5cdGxldCBlcnJvckNvdW50ID0gMDtcclxuXHRhbGxJbnB1dHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG5cdFx0aWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXJyb3JcIikpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSB7XHJcblx0XHRcdGxvZ2luOiB1c2VybmFtZS52YWx1ZSxcclxuXHRcdFx0ZW1haWw6IGVtYWlsLnZhbHVlLFxyXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmQudmFsdWUsXHJcblx0XHR9O1xyXG5cdFx0cmVnaXN0ZXJVc2VyKHVzZXJEYXRhKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0VtYWlsID0gKGlucHV0KSA9PiB7XHJcblx0Y29uc3QgcmUgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEtM31cXC5bMC05XXsxLTN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17MiwzfSkpJC87XHJcblx0aWYgKHJlLnRlc3QoaW5wdXQudmFsdWUpKSB7XHJcblx0XHRjbGVhckVycihlbWFpbCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnIoaW5wdXQsIFwiSW52YWxpZCBlbWFpbCFcIik7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVnaXN0ZXJVc2VyID0gKHVzZXJEYXRhKSA9PiB7XHJcblx0ZmV0Y2goYCR7dXJsfS91c2VyYCwge1xyXG5cdFx0bWV0aG9kOiBcIlBPU1RcIixcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcblx0XHR9LFxyXG5cdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpLFxyXG5cdH0pXHJcblx0XHQudGhlbigocmVzcG9uc2UpID0+IHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlLm9rKSB7XHJcblx0XHRcdFx0cG9wdXAuY2xhc3NMaXN0LmFkZChcInNob3ctcG9wdXBcIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cG9wdXAucXVlcnlTZWxlY3RvcihcInBcIikudGV4dENvbnRlbnQgPSBcIlVzZXIgZXhpc3QuIExvZyBpbiFcIjtcclxuXHRcdFx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwic2hvdy1wb3B1cFwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoKSA9PiB7XHJcblx0XHRcdHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCJwXCIpLnRleHRDb250ZW50ID0gXCJSZWdpc3RyYXRpb24gZmFpbGVkXCI7XHJcblx0XHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJzaG93LXBvcHVwXCIpO1xyXG5cdFx0fSk7XHJcbn07XHJcblxyXG5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Y29uc3QgYXJyID0gW3VzZXJuYW1lLCBwYXNzd29yZCwgY29uZmlybVBhc3N3b3JkLCBlbWFpbCwgY2hlY2tUZXJtc107XHJcblx0YXJyLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuXHRcdGVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG5cdFx0Y2xlYXJFcnIoZWxlbWVudCk7XHJcblx0fSk7XHJcbn0pO1xyXG5cclxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Y2hlY2tGb3JtKFt1c2VybmFtZSwgcGFzc3dvcmQsIGNvbmZpcm1QYXNzd29yZCwgZW1haWxdKTtcclxuXHJcblx0Y2hlY2tFcnJvcnMoKTtcclxufSk7XHJcblxyXG5wb3B1cC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctcG9wdXBcIik7XHJcbn0pO1xyXG4iXX0=
